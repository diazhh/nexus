<!--
  Copyright Â© 2016-2026 The Thingsboard Authors
-->

<div class="rv-dialog-container">
  <h2 mat-dialog-title><mat-icon>build</mat-icon> {{ isEditMode ? 'Editar Pozo' : 'Nuevo Pozo' }}</h2>

  <mat-dialog-content class="dialog-content">
    <form [formGroup]="form">
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="name" required>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>UWI</mat-label>
          <input matInput formControlName="uwi">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>API Number</mat-label>
          <input matInput formControlName="apiNumber">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Yacimiento</mat-label>
          <mat-select formControlName="reservoirAssetId">
            <mat-option value="">Sin yacimiento</mat-option>
            <mat-option *ngFor="let r of reservoirs" [value]="r.assetId">{{ r.name }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Operador</mat-label>
          <input matInput formControlName="operatorName">
        </mat-form-field>
      </div>

      <div class="section-title">Clasificacion</div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Tipo</mat-label>
          <mat-select formControlName="wellType">
            <mat-option *ngFor="let t of wellTypes" [value]="t">{{ t }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Estado</mat-label>
          <mat-select formControlName="wellStatus">
            <mat-option *ngFor="let s of wellStatuses" [value]="s">{{ s }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Categoria</mat-label>
          <mat-select formControlName="wellCategory">
            <mat-option *ngFor="let c of wellCategories" [value]="c">{{ c }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="section-title">Ubicacion y Profundidad</div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Latitud</mat-label>
          <input matInput type="number" formControlName="surfaceLatitude" step="0.000001">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Longitud</mat-label>
          <input matInput type="number" formControlName="surfaceLongitude" step="0.000001">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Profundidad MD (m)</mat-label>
          <input matInput type="number" formControlName="totalDepthMdM">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Profundidad TVD (m)</mat-label>
          <input matInput type="number" formControlName="totalDepthTvdM">
        </mat-form-field>
      </div>

      <div class="section-title">Produccion Actual</div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Tasa Petroleo (bopd)</mat-label>
          <input matInput type="number" formControlName="currentRateBopd">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Tasa Gas (Mscfd)</mat-label>
          <input matInput type="number" formControlName="currentGasRateMscfd">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>BSW (%)</mat-label>
          <input matInput type="number" formControlName="currentWaterCutPercent" min="0" max="100">
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Levantamiento Artificial</mat-label>
          <mat-select formControlName="artificialLiftType">
            <mat-option *ngFor="let l of liftMethods" [value]="l">{{ l }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions class="dialog-actions">
    <button mat-button (click)="cancel()">Cancelar</button>
    <button mat-raised-button color="primary" (click)="save()" [disabled]="!form.valid || isLoading">
      <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
      <span *ngIf="!isLoading">{{ isEditMode ? 'Actualizar' : 'Crear' }}</span>
    </button>
  </mat-dialog-actions>
</div>
