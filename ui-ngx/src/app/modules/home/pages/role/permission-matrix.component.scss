/**
 * Copyright Â© 2016-2026 The Thingsboard Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

:host {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.permission-matrix-container {
  padding: 16px;
  
  .matrix-info {
    margin-bottom: 16px;
    padding: 12px;
    background-color: rgba(0, 0, 0, 0.04);
    border-radius: 4px;
    
    .info-text {
      font-size: 14px;
      font-weight: 500;
    }
  }
  
  .matrix-table-wrapper {
    overflow-x: auto;
    max-height: 60vh;
    overflow-y: auto;
    border: 1px solid rgba(0, 0, 0, 0.12);
    border-radius: 4px;
  }
  
  .permission-matrix-table {
    width: 100%;
    border-collapse: collapse;
    
    thead {
      position: sticky;
      top: 0;
      background-color: #f5f5f5;
      z-index: 10;
      
      th {
        padding: 12px 8px;
        text-align: center;
        border-bottom: 2px solid rgba(0, 0, 0, 0.12);
        font-weight: 600;
        font-size: 13px;
        
        &.resource-header {
          text-align: left;
          min-width: 200px;
          position: sticky;
          left: 0;
          background-color: #f5f5f5;
          z-index: 11;
        }
        
        &.operation-header {
          min-width: 100px;
          
          .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            
            .operation-name {
              font-size: 12px;
            }
            
            .select-all-btn {
              width: 32px;
              height: 32px;
              line-height: 32px;
              
              mat-icon {
                font-size: 20px;
                width: 20px;
                height: 20px;
                line-height: 20px;
                
                &.all-selected {
                  color: #1976d2;
                }
              }
            }
          }
        }
        
        &.actions-header {
          min-width: 80px;
        }
      }
    }
    
    tbody {
      tr.resource-row {
        &:hover {
          background-color: rgba(0, 0, 0, 0.02);
        }
        
        td {
          padding: 8px;
          border-bottom: 1px solid rgba(0, 0, 0, 0.06);
          
          &.resource-cell {
            text-align: left;
            font-weight: 500;
            position: sticky;
            left: 0;
            background-color: white;
            z-index: 5;
            
            .resource-name {
              font-size: 13px;
            }
          }
          
          &.permission-cell {
            text-align: center;
            
            mat-checkbox {
              display: flex;
              justify-content: center;
            }
          }
          
          &.actions-cell {
            text-align: center;
            
            button {
              mat-icon {
                &.all-selected {
                  color: #1976d2;
                }
              }
            }
          }
        }
      }
    }
  }
}

mat-dialog-content {
  max-height: 70vh;
  overflow: hidden;
}
